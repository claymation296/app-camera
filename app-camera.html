
<style include="app-shared-styles">

  :host {
    display:  block;
    height:   100%;
    position: relative;

    --button-background-color: rgb(33, 33, 33);
    --button-color:            var(--app-accent-color);
  }

  .video {
    transition: opacity 0.2s ease-out;
    opacity:    0;
  }

  .show {
    opacity: 1;
  }

  #pinchToZoom {
    position: absolute;
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
  }

  .btn-wrapper {
    display:       inline-block;
    position:      absolute;
    border-radius: 40px;
  }

  .btn-wrapper::before {
    content:  ' ';
    position: absolute;
    top:      0px;
    right:    0px;
    bottom:   0px;
    left:     0px;    
    opacity:  0.5;

    /*
      Box shadow will not render if #btn-wrapper 
      has overlay mask settings, so apply them here.
    */
    border-radius:       40px;
    overflow:            hidden;      
    -webkit-mask-image: -webkit-radial-gradient(white, black);

    -webkit-backdrop-filter: blur(10px);
    backdrop-filter:         blur(10px);
    background-color:        var(--button-background-color);
  }

  .btn-wrapper[hidden] {
    display: none;
  }

  .top-btn {
    top: 16px;
  }

  .bottom-btn {
    bottom: 16px;
  }

  .left-btn {
    left: 16px;
  }

  .right-btn {
    right: 16px;
  }
 
  .center-btn {
    left:      50%;
    transform: translate(-50%, 0px);
  }

  paper-icon-button {
    color: var(--button-color);
  }

  #torch-btn {
    margin-left: 4px;
  }

  .capture-wrapper {
    border-radius: 50%;
  }

  #capture-btn {
    height: 64px;
    width:  64px;    
    padding: 4px;
  }

</style>

<!-- Non visual elements. -->
<app-media-devices id="devices"
                   kind="[[_kind]]"
                   on-app-media-devices-changed="__devicesChangedHandler"
                   on-app-media-devices-selected-changed="__devicesSelectedChangedHandler">
</app-media-devices>
<app-media-stream id="stream"
                  video-constraints="[[_videoConstraints]]"
                  video-device="[[_videoDevice]]"
                  active="[[_active]]"
                  on-app-media-stream-error-changed="__streamErrorHandler"
                  on-app-media-stream-changed="__streamChangedHandler"
                  on-app-media-stream-permission-denied="__streamPermissionDeniedHandler">
</app-media-stream>
<app-media-image-capture id="capture"
                         fill-light-mode="[[_flash]]"
                         focus-mode="single-shot"
                         red-eye-reduction
                         torch="[[_torch]]"
                         stream="[[_stream]]"
                         zoom="[[_zoom]]"
                         on-app-media-image-capture-photo-capabilities-changed="__photoCapabilitiesChangedHandler"
                         on-app-media-image-capture-track-capabilities-changed="__trackCapabilitiesChangedHandler">
</app-media-image-capture>

<!-- Live video feed and camera controls ui. -->
<app-media-video id="video"
                 class="video"
                 contain="[[contain]]"
                 autoplay
                 source="[[_stream]]"
                 mirror="[[_mirror]]"
                 muted
                 on-app-media-video-metadata-loaded="__metadataLoadedHandler"
                 on-app-media-video-source-changed="__sourceChangedHandler">
</app-media-video>


<pinch-to-zoom id="pinchToZoom"
               on-pinch-to-zoom-change="__pinchToZoomChangeHandler">
</pinch-to-zoom>


<div class="shared-card-shadow btn-wrapper top-btn right-btn"
     hidden="[[_hideLightingBtns]]">
  
  <paper-icon-button hidden="[[_hideFlashBtn]]"
                     icon="[[_flashBtnIcon]]"
                     on-click="__flashBtnClicked">
  </paper-icon-button>
  <paper-icon-button id="torch-btn"
                     hidden="[[_hideTorchBtn]]"
                     icon="app-media-icons:highlight"
                     on-click="__torchBtnClicked">
  </paper-icon-button>

</div>

<div class="shared-card-shadow btn-wrapper bottom-btn right-btn"
     hidden="[[_hideSwitchFaceBtn]]">
  <paper-icon-button icon="[[_faceBtnIcon]]"
                     on-click="__switchFaceBtnClicked">
  </paper-icon-button>
</div>

<div class="shared-card-shadow btn-wrapper capture-wrapper bottom-btn center-btn"
     hidden="[[noCapture]]">
  <paper-icon-button id="capture-btn"
                     icon="app-media-icons:radio-button-checked"
                     on-click="__captureBtnClicked">
  </paper-icon-button>
</div>
